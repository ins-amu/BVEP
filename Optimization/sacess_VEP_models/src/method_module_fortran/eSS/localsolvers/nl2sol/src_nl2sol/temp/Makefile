FFLAGS=  -O3 -ipo -xHost -march=native#-fast  
#FC := gfortran
FC= ifort#

#FC :=/opt/intel/bin/ifort -fast -r8 -i4 -ipo
SRC=\
d1mach.f\
i1mach.f\
r1mach.f\
s1mach.f\
s2mach.f\
s3mach.f\
fdump.f\
iceil.f\
iflr.f\
sdump.f\
stkdmp.f\
u9dmp.f\
a9rntc.f\
a9rntd.f\
a9rnti.f\
a9rntl.f\
a9rntr.f\
frmatd.f\
frmati.f\
frmatr.f\
i10wid.f\
a0xtrp.f\
a7sst.f\
c7vfn.f\
d0xtrp.f\
d7dgb.f\
d7dog.f\
d7dup.f\
d7egr.f\
d7mlp.f\
d7tpr.f\
d7upd.f\
da7sst.f\
dalloc.f\
dc7vfn.f\
dd7dgb.f\
dd7dog.f\
dd7dup.f\
dd7mlp.f\
dd7tpr.f\
dd7upd.f\
df7dhb.f\
df7hes.f\
dg7itb.f\
dg7lit.f\
dg7qsb.f\
dg7qts.f\
dh2rfa.f\
dh2rfg.f\
ditsum.f\
divset.f\
dl7itv.f\
dl7ivm.f\
dl7msb.f\
dl7mst.f\
dl7nvr.f\
dl7sqr.f\
dl7srt.f\
dl7svn.f\
dl7svx.f\
dl7tsq.f\
dl7tvm.f\
dl7upd.f\
dl7vml.f\
dmnf.f\
dmnfb.f\
dmng.f\
dmngb.f\
dmnh.f\
dmnhb.f\
dn2cvp.f\
dn2f.f\
dn2fb.f\
dn2g.f\
dn2gb.f\
dn2lrd.f\
dn2p.f\
dn2pb.f\
dn2rdp.f\
dnsf.f\
dnsfb.f\
dnsg.f\
dnsgb.f\
do7prd.f\
dparck.f\
dq7apl.f\
dq7rad.f\
dq7rfh.f\
dq7rsh.f\
dr7mdc.f\
dr7tvm.f\
drldst.f\
drmnf.f\
drmnfb.f\
drmng.f\
drmngb.f\
drmnh.f\
drmnhb.f\
drn2g.f\
drn2gb.f\
drnsg.f\
drnsgb.f\
ds3grd.f\
ds7bqn.f\
ds7cpr.f\
ds7dmp.f\
ds7grd.f\
ds7ipr.f\
ds7lup.f\
ds7lvm.f\
dsm.f\
dv2axy.f\
dv2nrm.f\
dv7cpy.f\
dv7dfl.f\
dv7ipr.f\
dv7prm.f\
dv7scl.f\
dv7scp.f\
dv7shf.f\
dv7swp.f\
dv7vmp.f\
dw7zbf.f\
dxtrap.f\
e9rint.f\
enter.f\
entsrc.f\
eprint.f\
erroff.f\
f7dhb.f\
f7hes.f\
g7itb.f\
g7lit.f\
g7qsb.f\
g7qts.f\
h2rfa.f\
h2rfg.f\
i0tk00.f\
i0tk01.f\
i7copy.f\
i7do.f\
i7mdcn.f\
i7pnvr.f\
i7shft.f\
i8save.f\
i8tsel.f\
ialloc.f\
istkgt.f\
istkin.f\
istkmd.f\
istkqu.f\
istkrl.f\
istkst.f\
itsum.f\
ivset.f\
l7itv.f\
l7ivm.f\
l7msb.f\
l7mst.f\
l7nvr.f\
l7sqr.f\
l7srt.f\
l7svn.f\
l7svx.f\
l7tsq.f\
l7tvm.f\
l7upd.f\
l7vml.f\
leave.f\
m7seq.f\
m7slo.f\
mnf.f\
mnfb.f\
mng.f\
mngb.f\
mnh.f\
mnhb.f\
movebc.f\
movebd.f\
movebi.f\
movebl.f\
movebr.f\
movefc.f\
movefd.f\
movefi.f\
movefl.f\
movefr.f\
mtstak.f\
n2cvp.f\
n2f.f\
n2fb.f\
n2g.f\
n2gb.f\
n2lrd.f\
n2p.f\
n2pb.f\
n2rdp.f\
n7msrt.f\
nerror.f\
nirall.f\
nsf.f\
nsfb.f\
nsg.f\
nsgb.f\
o7prd.f\
parck.f\
q7apl.f\
q7rad.f\
q7rfh.f\
q7rsh.f\
r7mdc.f\
r7tvm.f\
retsrc.f\
rldst.f\
rmnf.f\
rmnfb.f\
rmng.f\
rmngb.f\
rmnh.f\
rmnhb.f\
rn2g.f\
rn2gb.f\
rnsg.f\
rnsgb.f\
s3grd.f\
s7bqn.f\
s7cpr.f\
s7dmp.f\
s7etr.f\
s7grd.f\
s7ipr.f\
s7lup.f\
s7lvm.f\
s7rtdt.f\
s88fmt.f\
setc.f\
setd.f\
seterr.f\
seti.f\
setl.f\
setr.f\
srecap.f\
stinit.f\
stopx.f\
v2axy.f\
v2nrm.f\
v7cpy.f\
v7dfl.f\
v7ipr.f\
v7prm.f\
v7scl.f\
v7scp.f\
v7shf.f\
v7swp.f\
v7vmp.f\
w7zbf.f\
xtrap.f

OBJFILES := $(SRC:.f=.o)
DEPFILES := $(SRC:.f=.d)

all: $(OBJFILES) 

%.o : %.f
ifeq ($CC, gcc)
	$(FC) $(FFLAGS) $(USENL2SOL) -c  $< -o $@ -lm 
else
	$(FC) $(FFLAGS) $(USENL2SOL) -c  $<  -lm	
endif
clean :
	rm *.o
#lib$(LIB).lib:	$(OBJ)
#	update lib$(LIB).lib $?

#install:	lib$(LIB).a
#	mv lib$(LIB).a /usr/local/lib
#	rm *.f

#test: test.f
#	g77 test.f -l$(LIB)
#	time a.fut
